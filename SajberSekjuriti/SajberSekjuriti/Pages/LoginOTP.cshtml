@page
@model SajberSekjuriti.Pages.LoginOTPModel
@{
    ViewData["Title"] = "Weryfikacja dwuetapowa";
}

<h1>@ViewData["Title"]</h1>

<div class="row">
    <div class="col-md-5">
        <section>
            <h4 class="mb-3">Witaj, <span class="text-primary">@Model.Username</span>!</h4>

            <p>Twoje konto wymaga dodatkowej weryfikacji. Oblicz hasło jednorazowe na podstawie wzoru:</p>

            <div class="alert alert-info">
                <h5 class="alert-heading">Wzór: <code>lg(a * x)</code></h5>
                <p class="mb-0">Gdzie:</p>
                <ul>
                    <li>Długość Twojego loginu (<b>a</b>): <strong>@Model.LoginLengthA</strong></li>
                    <li>Twój losowy numer (<b>x</b>): <strong>@Model.RandomNumberX</strong></li>
                </ul>
                <hr>
                <p class="mb-0">
                    Oblicz <code>lg(a * x)</code>, a następnie <strong>zaokrąglij wynik do 2 miejsc po przecinku</strong>.
                </p>
                <p class="small fst-italic">
                    <strong>Ważne:</strong> Użyj kropki (<code>.</code>) jako separatora dziesiętnego.
                    <br />
                    Przykład: Jeśli wynik to 2.6989..., wpisz <code>2.70</code>. Jeśli wynik to 3.1, wpisz <code>3.10</code>.
                </p>
            </div>

            <hr />

            <form method="post">
                @if (!string.IsNullOrEmpty(Model.ErrorMessage))
                {
                    <div class="alert alert-danger" role="alert">
                        @Model.ErrorMessage
                    </div>
                }

                <input type="hidden" asp-for="Input.Username" />
                <input type="hidden" asp-for="Input.LoginLengthA" />
                <input type="hidden" asp-for="Input.RandomNumberX" />

                <div class="form-floating mb-3">
                    <input asp-for="Input.OTPCode" class="form-control" autocomplete="off" autofocus />
                    <label asp-for="Input.OTPCode"></label>
                    <span asp-validation-for="Input.OTPCode" class="text-danger"></span>
                </div>

                <div>
                    <button type="submit" class="w-100 btn btn-lg btn-primary">Weryfikuj i zaloguj</button>
                </div>
            </form>
        </section>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}